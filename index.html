<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>GitHub 3D Contributions Calendar (jvisualschool)</title>
    <meta name="description" content="GitHub-style isometric 3D contributions calendar + 2D heatmap." />
    <!-- Use CDN for Obelisk.js to ensure it loads correctly -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/obelisk.js/1.2.2/obelisk.min.js"></script>
    <style>
        :root {
            --bg-color: #ffffff;
            --text-primary: #24292f;
            --text-secondary: #586069;
            --green-0: #EBEDF0;
            --green-1: #9BE9A8;
            --green-2: #40C463;
            --green-3: #30A14E;
            --green-4: #216E39;
            --border: #D0D7DE;
            --link: #0969da;
            --shadow: rgba(27, 31, 36, .12);
            --mono: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;
            --sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        }

        * {
            box-sizing: border-box
        }

        body {
            margin: 0;
            font-family: var(--sans);
            background: var(--bg-color);
            color: var(--text-primary);
        }

        .wrap {
            max-width: 1100px;
            margin: 32px auto;
            padding: 0 16px
        }

        .card {
            border: 1px solid var(--border);
            border-radius: 12px;
            background: #fff;
            box-shadow: 0 8px 30px rgba(27, 31, 36, .06);
            overflow: hidden;
        }

        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 16px;
            border-bottom: 1px solid var(--border);
            gap: 12px;
            flex-wrap: wrap;
        }

        .header h2 {
            margin: 0;
            font-size: 16px;
            font-weight: 600;
            letter-spacing: -.01em;
        }

        .controls {
            display: flex;
            gap: 8px;
            align-items: center
        }

        .segmented {
            display: inline-flex;
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
            background: #f6f8fa;
        }

        .segmented button {
            appearance: none;
            border: 0;
            background: transparent;
            padding: 8px 10px;
            font-size: 12px;
            color: var(--text-primary);
            cursor: pointer;
            font-weight: 600;
        }

        .segmented button[aria-pressed="true"] {
            background: #fff;
            box-shadow: 0 1px 0 rgba(27, 31, 36, .04);
        }

        .btn {
            border: 1px solid var(--border);
            background: #f6f8fa;
            color: var(--text-primary);
            border-radius: 8px;
            padding: 8px 10px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
        }

        .chart-container {
            display: grid;
            grid-template-columns: 1fr 280px;
            gap: 16px;
            padding: 16px;
            align-items: start;
        }

        .iso-shell {
            position: relative;
            border: 1px solid var(--border);
            border-radius: 12px;
            background: linear-gradient(#ffffff, #fbfbfc);
            padding: 14px;
            overflow: hidden;
        }

        .iso-stage {
            position: relative;
            height: 290px;
            border-radius: 10px;
            background: radial-gradient(1200px 400px at 20% 0%, rgba(64, 196, 99, .10), transparent 55%),
                radial-gradient(900px 320px at 80% 100%, rgba(33, 110, 57, .08), transparent 60%);
            border: 1px dashed rgba(208, 215, 222, .7);
            overflow: hidden;
        }

        #iso-canvas {
            background: transparent;
        }

        .tooltip {
            position: absolute;
            pointer-events: none;
            padding: 8px 10px;
            border-radius: 10px;
            border: 1px solid rgba(208, 215, 222, .9);
            background: #ffffff;
            box-shadow: 0 12px 40px rgba(27, 31, 36, .18);
            font-size: 12px;
            color: var(--text-primary);
            transform: translate(-50%, calc(-100% - 12px));
            white-space: nowrap;
            opacity: 0;
            transition: opacity .12s ease;
            z-index: 100;
        }

        .tooltip .k {
            color: var(--text-secondary);
            font-family: var(--mono);
            font-size: 11px
        }

        .stats {
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 14px;
            background: #fff;
            position: sticky;
            top: 16px;
        }

        .stats .block {
            padding: 10px 0;
            border-bottom: 1px solid #f0f2f4
        }

        .stats .block:last-child {
            border-bottom: 0
        }

        .stats .label {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 6px
        }

        .stats .big {
            font-size: 32px;
            font-weight: 800;
            color: var(--green-4);
            line-height: 1.05;
            letter-spacing: -.02em
        }

        .stats .small {
            font-size: 12px;
            color: var(--text-secondary)
        }

        .heatmap-wrap {
            padding: 0 16px 16px
        }

        .heatmap {
            border-top: 1px solid var(--border);
            padding-top: 16px;
        }

        .heat-head {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
            margin-bottom: 8px;
        }

        .heat-grid {
            display: grid;
            grid-template-columns: 28px 1fr;
            gap: 10px;
            align-items: start;
        }

        .dow {
            display: grid;
            grid-template-rows: repeat(7, 12px);
            gap: 4px;
            font-size: 11px;
            color: var(--text-secondary);
            padding-top: 18px;
        }

        .dow span {
            line-height: 12px
        }

        .grid-area {
            position: relative;
            overflow: auto;
            padding-bottom: 6px
        }

        .months {
            display: grid;
            grid-template-columns: repeat(53, 12px);
            gap: 4px;
            font-size: 11px;
            color: var(--text-secondary);
            margin-bottom: 6px;
            padding-left: 0;
        }

        .months span {
            grid-row: 1;
            justify-self: start;
            border: none;
        }

        .cells {
            display: grid;
            grid-auto-flow: column;
            grid-template-rows: repeat(7, 12px);
            grid-auto-columns: 12px;
            gap: 4px;
            align-items: center;
        }

        .cell {
            width: 12px;
            height: 12px;
            border-radius: 3px;
            background: var(--green-0);
            box-shadow: inset 0 0 0 1px rgba(27, 31, 36, .04);
        }

        .legend {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 8px;
            margin-top: 10px;
            font-size: 12px;
            color: var(--text-secondary);
        }

        .legend i {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 3px
        }

        .footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
            padding: 12px 16px 16px;
            color: var(--text-secondary);
            font-size: 12px;
        }

        .footer a {
            color: var(--link);
            text-decoration: none
        }

        @media (max-width: 900px) {
            .chart-container {
                grid-template-columns: 1fr
            }

            .stats {
                position: relative;
                top: auto
            }
        }
    </style>
</head>

<body>
    <div class="wrap">
        <div class="card contribution-calendar">
            <div class="header">
                <h2 id="header-title">Loading...</h2>
                <div class="controls">
                    <div class="segmented" role="group">
                        <button id="btn-3d" aria-pressed="true">3D</button>
                        <button id="btn-2d" aria-pressed="false">Grid</button>
                    </div>
                    <button class="btn" id="btn-settings">Contribution settings ▾</button>
                </div>
            </div>

            <div class="chart-container">
                <div class="iso-shell" id="iso-shell">
                    <div class="iso-stage" id="iso-stage">
                        <canvas id="iso-canvas" width="1000" height="600"
                            style="width:100%;height:100%;display:block"></canvas>
                        <div class="tooltip" id="tooltip"></div>
                    </div>
                </div>

                <aside class="stats">
                    <div class="block">
                        <div class="label">1 year total</div>
                        <div class="big" id="stat-total">-</div>
                        <div class="small" id="stat-range">-</div>
                    </div>
                    <div class="block">
                        <div class="label">Busiest day</div>
                        <div class="big" id="stat-busy">-</div>
                        <div class="small" id="stat-busy-date">-</div>
                    </div>
                    <div class="block">
                        <div class="label">Longest streak</div>
                        <div class="big" id="stat-long">-</div>
                        <div class="small" id="stat-long-range">-</div>
                    </div>
                    <div class="block">
                        <div class="label">Current streak</div>
                        <div class="big" id="stat-cur">-</div>
                        <div class="small" id="stat-cur-range">-</div>
                    </div>
                </aside>
            </div>

            <div class="heatmap-wrap" id="heatmap-wrap">
                <div class="heatmap">
                    <div class="heat-grid">
                        <div class="dow">
                            <span></span><span>Mon</span><span></span><span>Wed</span><span></span><span>Fri</span><span></span>
                        </div>
                        <div class="grid-area">
                            <div class="months" id="months"></div>
                            <div class="cells" id="cells"></div>
                            <div class="legend">
                                <span>Less</span>
                                <i style="background:var(--green-0)"></i>
                                <i style="background:var(--green-1)"></i>
                                <i style="background:var(--green-2)"></i>
                                <i style="background:var(--green-3)"></i>
                                <i style="background:var(--green-4)"></i>
                                <span>More</span>
                            </div>
                        </div>
                    </div>
                    <div class="footer">
                        <a href="#">Learn how we count contributions.</a>
                        <label><input id="hide-normal" type="checkbox" /> Hide normal chart</label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Embedded Real Data (gh result)
        const REAL_DATA = [{ "date": "2025-01-12", "count": 0 }, { "date": "2025-01-13", "count": 0 }, { "date": "2025-01-14", "count": 0 }, { "date": "2025-01-15", "count": 0 }, { "date": "2025-01-16", "count": 0 }, { "date": "2025-01-17", "count": 0 }, { "date": "2025-01-18", "count": 0 }, { "date": "2025-01-19", "count": 0 }, { "date": "2025-01-20", "count": 0 }, { "date": "2025-01-21", "count": 0 }, { "date": "2025-01-22", "count": 0 }, { "date": "2025-01-23", "count": 0 }, { "date": "2025-01-24", "count": 0 }, { "date": "2025-01-25", "count": 0 }, { "date": "2025-01-26", "count": 0 }, { "date": "2025-01-27", "count": 0 }, { "date": "2025-01-28", "count": 0 }, { "date": "2025-01-29", "count": 0 }, { "date": "2025-01-30", "count": 0 }, { "date": "2025-01-31", "count": 0 }, { "date": "2025-02-01", "count": 0 }, { "date": "2025-02-02", "count": 0 }, { "date": "2025-02-03", "count": 0 }, { "date": "2025-02-04", "count": 0 }, { "date": "2025-02-05", "count": 0 }, { "date": "2025-02-06", "count": 0 }, { "date": "2025-02-07", "count": 0 }, { "date": "2025-02-08", "count": 0 }, { "date": "2025-02-09", "count": 0 }, { "date": "2025-02-10", "count": 0 }, { "date": "2025-02-11", "count": 0 }, { "date": "2025-02-12", "count": 0 }, { "date": "2025-02-13", "count": 0 }, { "date": "2025-02-14", "count": 0 }, { "date": "2025-02-15", "count": 0 }, { "date": "2025-02-16", "count": 0 }, { "date": "2025-02-17", "count": 0 }, { "date": "2025-02-18", "count": 0 }, { "date": "2025-02-19", "count": 0 }, { "date": "2025-02-20", "count": 0 }, { "date": "2025-02-21", "count": 0 }, { "date": "2025-02-22", "count": 0 }, { "date": "2025-02-23", "count": 0 }, { "date": "2025-02-24", "count": 0 }, { "date": "2025-02-25", "count": 0 }, { "date": "2025-02-26", "count": 0 }, { "date": "2025-02-27", "count": 0 }, { "date": "2025-02-28", "count": 0 }, { "date": "2025-03-01", "count": 0 }, { "date": "2025-03-02", "count": 0 }, { "date": "2025-03-03", "count": 0 }, { "date": "2025-03-04", "count": 0 }, { "date": "2025-03-05", "count": 0 }, { "date": "2025-03-06", "count": 0 }, { "date": "2025-03-07", "count": 0 }, { "date": "2025-03-08", "count": 0 }, { "date": "2025-03-09", "count": 0 }, { "date": "2025-03-10", "count": 0 }, { "date": "2025-03-11", "count": 0 }, { "date": "2025-03-12", "count": 0 }, { "date": "2025-03-13", "count": 0 }, { "date": "2025-03-14", "count": 0 }, { "date": "2025-03-15", "count": 0 }, { "date": "2025-03-16", "count": 0 }, { "date": "2025-03-17", "count": 0 }, { "date": "2025-03-18", "count": 0 }, { "date": "2025-03-19", "count": 0 }, { "date": "2025-03-20", "count": 0 }, { "date": "2025-03-21", "count": 0 }, { "date": "2025-03-22", "count": 0 }, { "date": "2025-03-23", "count": 0 }, { "date": "2025-03-24", "count": 0 }, { "date": "2025-03-25", "count": 0 }, { "date": "2025-03-26", "count": 0 }, { "date": "2025-03-27", "count": 0 }, { "date": "2025-03-28", "count": 0 }, { "date": "2025-03-29", "count": 0 }, { "date": "2025-03-30", "count": 0 }, { "date": "2025-03-31", "count": 0 }, { "date": "2025-04-01", "count": 0 }, { "date": "2025-04-02", "count": 0 }, { "date": "2025-04-03", "count": 0 }, { "date": "2025-04-04", "count": 0 }, { "date": "2025-04-05", "count": 0 }, { "date": "2025-04-06", "count": 0 }, { "date": "2025-04-07", "count": 0 }, { "date": "2025-04-08", "count": 0 }, { "date": "2025-04-09", "count": 0 }, { "date": "2025-04-10", "count": 0 }, { "date": "2025-04-11", "count": 0 }, { "date": "2025-04-12", "count": 0 }, { "date": "2025-04-13", "count": 0 }, { "date": "2025-04-14", "count": 0 }, { "date": "2025-04-15", "count": 0 }, { "date": "2025-04-16", "count": 0 }, { "date": "2025-04-17", "count": 0 }, { "date": "2025-04-18", "count": 0 }, { "date": "2025-04-19", "count": 0 }, { "date": "2025-04-20", "count": 0 }, { "date": "2025-04-21", "count": 0 }, { "date": "2025-04-22", "count": 0 }, { "date": "2025-04-23", "count": 0 }, { "date": "2025-04-24", "count": 0 }, { "date": "2025-04-25", "count": 0 }, { "date": "2025-04-26", "count": 0 }, { "date": "2025-04-27", "count": 0 }, { "date": "2025-04-28", "count": 0 }, { "date": "2025-04-29", "count": 0 }, { "date": "2025-04-30", "count": 0 }, { "date": "2025-05-01", "count": 0 }, { "date": "2025-05-02", "count": 0 }, { "date": "2025-05-03", "count": 0 }, { "date": "2025-05-04", "count": 0 }, { "date": "2025-05-05", "count": 0 }, { "date": "2025-05-06", "count": 0 }, { "date": "2025-05-07", "count": 0 }, { "date": "2025-05-08", "count": 0 }, { "date": "2025-05-09", "count": 0 }, { "date": "2025-05-10", "count": 0 }, { "date": "2025-05-11", "count": 0 }, { "date": "2025-05-12", "count": 0 }, { "date": "2025-05-13", "count": 0 }, { "date": "2025-05-14", "count": 0 }, { "date": "2025-05-15", "count": 0 }, { "date": "2025-05-16", "count": 0 }, { "date": "2025-05-17", "count": 0 }, { "date": "2025-05-18", "count": 0 }, { "date": "2025-05-19", "count": 0 }, { "date": "2025-05-20", "count": 0 }, { "date": "2025-05-21", "count": 0 }, { "date": "2025-05-22", "count": 0 }, { "date": "2025-05-23", "count": 0 }, { "date": "2025-05-24", "count": 0 }, { "date": "2025-05-25", "count": 0 }, { "date": "2025-05-26", "count": 0 }, { "date": "2025-05-27", "count": 0 }, { "date": "2025-05-28", "count": 0 }, { "date": "2025-05-29", "count": 0 }, { "date": "2025-05-30", "count": 0 }, { "date": "2025-05-31", "count": 0 }, { "date": "2025-06-01", "count": 0 }, { "date": "2025-06-02", "count": 0 }, { "date": "2025-06-03", "count": 0 }, { "date": "2025-06-04", "count": 0 }, { "date": "2025-06-05", "count": 0 }, { "date": "2025-06-06", "count": 0 }, { "date": "2025-06-07", "count": 0 }, { "date": "2025-06-08", "count": 0 }, { "date": "2025-06-09", "count": 0 }, { "date": "2025-06-10", "count": 0 }, { "date": "2025-06-11", "count": 0 }, { "date": "2025-06-12", "count": 0 }, { "date": "2025-06-13", "count": 0 }, { "date": "2025-06-14", "count": 0 }, { "date": "2025-06-15", "count": 0 }, { "date": "2025-06-16", "count": 0 }, { "date": "2025-06-17", "count": 0 }, { "date": "2025-06-18", "count": 6 }, { "date": "2025-06-19", "count": 0 }, { "date": "2025-06-20", "count": 0 }, { "date": "2025-06-21", "count": 0 }, { "date": "2025-06-22", "count": 0 }, { "date": "2025-06-23", "count": 0 }, { "date": "2025-06-24", "count": 0 }, { "date": "2025-06-25", "count": 0 }, { "date": "2025-06-26", "count": 0 }, { "date": "2025-06-27", "count": 0 }, { "date": "2025-06-28", "count": 2 }, { "date": "2025-06-29", "count": 3 }, { "date": "2025-06-30", "count": 0 }, { "date": "2025-07-01", "count": 0 }, { "date": "2025-07-02", "count": 0 }, { "date": "2025-07-03", "count": 0 }, { "date": "2025-07-04", "count": 0 }, { "date": "2025-07-05", "count": 0 }, { "date": "2025-07-06", "count": 0 }, { "date": "2025-07-07", "count": 0 }, { "date": "2025-07-08", "count": 0 }, { "date": "2025-07-09", "count": 0 }, { "date": "2025-07-10", "count": 3 }, { "date": "2025-07-11", "count": 0 }, { "date": "2025-07-12", "count": 1 }, { "date": "2025-07-13", "count": 0 }, { "date": "2025-07-14", "count": 0 }, { "date": "2025-07-15", "count": 0 }, { "date": "2025-07-16", "count": 0 }, { "date": "2025-07-17", "count": 0 }, { "date": "2025-07-18", "count": 0 }, { "date": "2025-07-19", "count": 0 }, { "date": "2025-07-20", "count": 11 }, { "date": "2025-07-21", "count": 0 }, { "date": "2025-07-22", "count": 10 }, { "date": "2025-07-23", "count": 7 }, { "date": "2025-07-24", "count": 0 }, { "date": "2025-07-25", "count": 0 }, { "date": "2025-07-26", "count": 0 }, { "date": "2025-07-27", "count": 4 }, { "date": "2025-07-28", "count": 0 }, { "date": "2025-07-29", "count": 1 }, { "date": "2025-07-30", "count": 7 }, { "date": "2025-07-31", "count": 7 }, { "date": "2025-08-01", "count": 0 }, { "date": "2025-08-02", "count": 7 }, { "date": "2025-08-03", "count": 0 }, { "date": "2025-08-04", "count": 0 }, { "date": "2025-08-05", "count": 3 }, { "date": "2025-08-06", "count": 0 }, { "date": "2025-08-07", "count": 6 }, { "date": "2025-08-08", "count": 0 }, { "date": "2025-08-09", "count": 3 }, { "date": "2025-08-10", "count": 0 }, { "date": "2025-08-11", "count": 0 }, { "date": "2025-08-12", "count": 1 }, { "date": "2025-08-13", "count": 1 }, { "date": "2025-08-14", "count": 0 }, { "date": "2025-08-15", "count": 3 }, { "date": "2025-08-16", "count": 0 }, { "date": "2025-08-17", "count": 0 }, { "date": "2025-08-18", "count": 5 }, { "date": "2025-08-19", "count": 0 }, { "date": "2025-08-20", "count": 0 }, { "date": "2025-08-21", "count": 0 }, { "date": "2025-08-22", "count": 0 }, { "date": "2025-08-23", "count": 0 }, { "date": "2025-08-24", "count": 0 }, { "date": "2025-08-25", "count": 0 }, { "date": "2025-08-26", "count": 3 }, { "date": "2025-08-27", "count": 0 }, { "date": "2025-08-28", "count": 0 }, { "date": "2025-08-29", "count": 0 }, { "date": "2025-08-30", "count": 0 }, { "date": "2025-08-31", "count": 3 }, { "date": "2025-09-01", "count": 0 }, { "date": "2025-09-02", "count": 0 }, { "date": "2025-09-03", "count": 0 }, { "date": "2025-09-04", "count": 0 }, { "date": "2025-09-05", "count": 0 }, { "date": "2025-09-06", "count": 0 }, { "date": "2025-09-07", "count": 0 }, { "date": "2025-09-08", "count": 0 }, { "date": "2025-09-09", "count": 0 }, { "date": "2025-09-10", "count": 0 }, { "date": "2025-09-11", "count": 0 }, { "date": "2025-09-12", "count": 6 }, { "date": "2025-09-13", "count": 0 }, { "date": "2025-09-14", "count": 0 }, { "date": "2025-09-15", "count": 0 }, { "date": "2025-09-16", "count": 0 }, { "date": "2025-09-17", "count": 0 }, { "date": "2025-09-18", "count": 0 }, { "date": "2025-09-19", "count": 0 }, { "date": "2025-09-20", "count": 0 }, { "date": "2025-09-21", "count": 0 }, { "date": "2025-09-22", "count": 0 }, { "date": "2025-09-23", "count": 0 }, { "date": "2025-09-24", "count": 0 }, { "date": "2025-09-25", "count": 0 }, { "date": "2025-09-26", "count": 0 }, { "date": "2025-09-27", "count": 0 }, { "date": "2025-09-28", "count": 0 }, { "date": "2025-09-29", "count": 0 }, { "date": "2025-09-30", "count": 0 }, { "date": "2025-10-01", "count": 0 }, { "date": "2025-10-02", "count": 0 }, { "date": "2025-10-03", "count": 0 }, { "date": "2025-10-04", "count": 0 }, { "date": "2025-10-05", "count": 0 }, { "date": "2025-10-06", "count": 0 }, { "date": "2025-10-07", "count": 0 }, { "date": "2025-10-08", "count": 0 }, { "date": "2025-10-09", "count": 0 }, { "date": "2025-10-10", "count": 0 }, { "date": "2025-10-11", "count": 0 }, { "date": "2025-10-12", "count": 0 }, { "date": "2025-10-13", "count": 0 }, { "date": "2025-10-14", "count": 0 }, { "date": "2025-10-15", "count": 0 }, { "date": "2025-10-16", "count": 0 }, { "date": "2025-10-17", "count": 0 }, { "date": "2025-10-18", "count": 0 }, { "date": "2025-10-19", "count": 0 }, { "date": "2025-10-20", "count": 0 }, { "date": "2025-10-21", "count": 0 }, { "date": "2025-10-22", "count": 0 }, { "date": "2025-10-23", "count": 0 }, { "date": "2025-10-24", "count": 0 }, { "date": "2025-10-25", "count": 0 }, { "date": "2025-10-26", "count": 0 }, { "date": "2025-10-27", "count": 0 }, { "date": "2025-10-28", "count": 0 }, { "date": "2025-10-29", "count": 0 }, { "date": "2025-10-30", "count": 0 }, { "date": "2025-10-31", "count": 0 }, { "date": "2025-11-01", "count": 0 }, { "date": "2025-11-02", "count": 0 }, { "date": "2025-11-03", "count": 0 }, { "date": "2025-11-04", "count": 0 }, { "date": "2025-11-05", "count": 0 }, { "date": "2025-11-06", "count": 0 }, { "date": "2025-11-07", "count": 0 }, { "date": "2025-11-08", "count": 0 }, { "date": "2025-11-09", "count": 0 }, { "date": "2025-11-10", "count": 0 }, { "date": "2025-11-11", "count": 0 }, { "date": "2025-11-12", "count": 0 }, { "date": "2025-11-13", "count": 0 }, { "date": "2025-11-14", "count": 0 }, { "date": "2025-11-15", "count": 0 }, { "date": "2025-11-16", "count": 0 }, { "date": "2025-11-17", "count": 0 }, { "date": "2025-11-18", "count": 0 }, { "date": "2025-11-19", "count": 0 }, { "date": "2025-11-20", "count": 0 }, { "date": "2025-11-21", "count": 0 }, { "date": "2025-11-22", "count": 0 }, { "date": "2025-11-23", "count": 0 }, { "date": "2025-11-24", "count": 0 }, { "date": "2025-11-25", "count": 0 }, { "date": "2025-11-26", "count": 0 }, { "date": "2025-11-27", "count": 0 }, { "date": "2025-11-28", "count": 0 }, { "date": "2025-11-29", "count": 0 }, { "date": "2025-11-30", "count": 0 }, { "date": "2025-12-01", "count": 0 }, { "date": "2025-12-02", "count": 0 }, { "date": "2025-12-03", "count": 0 }, { "date": "2025-12-04", "count": 0 }, { "date": "2025-12-05", "count": 0 }, { "date": "2025-12-06", "count": 0 }, { "date": "2025-12-07", "count": 0 }, { "date": "2025-12-08", "count": 0 }, { "date": "2025-12-09", "count": 0 }, { "date": "2025-12-10", "count": 0 }, { "date": "2025-12-11", "count": 0 }, { "date": "2025-12-12", "count": 0 }, { "date": "2025-12-13", "count": 0 }, { "date": "2025-12-14", "count": 0 }, { "date": "2025-12-15", "count": 2 }, { "date": "2025-12-16", "count": 1 }, { "date": "2025-12-17", "count": 0 }, { "date": "2025-12-18", "count": 1 }, { "date": "2025-12-19", "count": 0 }, { "date": "2025-12-20", "count": 0 }, { "date": "2025-12-21", "count": 0 }, { "date": "2025-12-22", "count": 0 }, { "date": "2025-12-23", "count": 0 }, { "date": "2025-12-24", "count": 4 }, { "date": "2025-12-25", "count": 0 }, { "date": "2025-12-26", "count": 0 }, { "date": "2025-12-27", "count": 6 }, { "date": "2025-12-28", "count": 2 }, { "date": "2025-12-29", "count": 3 }, { "date": "2025-12-30", "count": 5 }, { "date": "2025-12-31", "count": 1 }, { "date": "2026-01-01", "count": 4 }, { "date": "2026-01-02", "count": 1 }, { "date": "2026-01-03", "count": 3 }, { "date": "2026-01-04", "count": 2 }, { "date": "2026-01-05", "count": 2 }, { "date": "2026-01-06", "count": 3 }, { "date": "2026-01-07", "count": 0 }, { "date": "2026-01-08", "count": 1 }, { "date": "2026-01-09", "count": 3 }, { "date": "2026-01-10", "count": 0 }, { "date": "2026-01-11", "count": 0 }, { "date": "2026-01-12", "count": 0 }, { "date": "2026-01-13", "count": 0 }, { "date": "2026-01-14", "count": 0 }, { "date": "2026-01-15", "count": 0 }, { "date": "2026-01-16", "count": 1 }, { "date": "2026-01-17", "count": 1 }];

        const MONTHS = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

        function fmt(n) { return new Intl.NumberFormat('en-US').format(n); }
        function fmtDate(iso) {
            const d = new Date(iso + 'T00:00:00');
            return `${MONTHS[d.getMonth()]} ${d.getDate()}${d.getFullYear() !== new Date().getFullYear() ? ', ' + d.getFullYear() : ''}`;
        }

        function colorForCount(count) {
            if (count <= 0) return '#EBEDF0';
            if (count <= 3) return '#9BE9A8';
            if (count <= 6) return '#40C463';
            if (count <= 9) return '#30A14E';
            return '#216E39';
        }

        function calcStats(days) {
            const total = days.reduce((s, d) => s + d.count, 0);
            let busiest = days[0];
            for (const d of days) { if (d.count > busiest.count) busiest = d; }

            let bestLen = 0, bestStart = null, bestEnd = null, curLen = 0, curStart = null;
            days.forEach(d => {
                if (d.count > 0) {
                    if (curLen === 0) curStart = d.date;
                    curLen++;
                    if (curLen >= bestLen) { bestLen = curLen; bestStart = curStart; bestEnd = d.date; }
                } else { curLen = 0; }
            });

            let currentLen = 0;
            for (let i = days.length - 1; i >= 0; i--) {
                if (days[i].count > 0) currentLen++;
                else if (i < days.length - 1) break;
            }

            return { total, busiest, longest: { len: bestLen, start: bestStart, end: bestEnd }, current: { len: currentLen }, range: [days[0].date, days[days.length - 1].date] };
        }

        function render(days) {
            const stats = calcStats(days);
            const first = new Date(days[0].date + 'T00:00:00');
            const pad = first.getDay();
            const padded = Array.from({ length: pad }, () => ({ date: null, count: 0, pad: true })).concat(days);
            const weeks = Math.ceil(padded.length / 7);

            // Update UI
            document.getElementById('header-title').textContent = `${fmt(stats.total)} contributions in the last year`;
            document.getElementById('stat-total').textContent = fmt(stats.total);
            document.getElementById('stat-range').textContent = `${fmtDate(stats.range[0])} — ${fmtDate(stats.range[1])}`;
            document.getElementById('stat-busy').textContent = stats.busiest.count;
            document.getElementById('stat-busy-date').textContent = fmtDate(stats.busiest.date);
            document.getElementById('stat-long').textContent = stats.longest.len;
            document.getElementById('stat-long-range').textContent = stats.longest.start ? `${fmtDate(stats.longest.start)} — ${fmtDate(stats.longest.end)}` : '-';
            document.getElementById('stat-cur').textContent = stats.current.len;
            document.getElementById('stat-cur-range').textContent = 'Last streak';

            // 2D Heatmap
            const cells = document.getElementById('cells');
            const monthsEl = document.getElementById('months');
            cells.innerHTML = ''; monthsEl.innerHTML = '';

            monthsEl.style.gridTemplateColumns = `repeat(${weeks}, 12px)`;
            let lastMonth = -1;
            for (let w = 0; w < weeks; w++) {
                const item = padded[w * 7];
                if (item && !item.pad) {
                    const m = new Date(item.date + 'T00:00:00').getMonth();
                    if (m !== lastMonth) {
                        const span = document.createElement('span'); span.textContent = MONTHS[m];
                        span.style.gridColumn = w + 1; monthsEl.appendChild(span); lastMonth = m;
                    }
                }
                for (let d = 0; d < 7; d++) {
                    const day = padded[w * 7 + d];
                    const div = document.createElement('div'); div.className = 'cell';
                    if (day && !day.pad) {
                        div.style.background = colorForCount(day.count);
                        div.title = `${day.count} on ${day.date}`;
                    } else { div.style.background = 'transparent'; div.style.boxShadow = 'none'; }
                    cells.appendChild(div);
                }
            }

            // 3D Isometric (Obelisk)
            if (window.obelisk) {
                const canvas = document.getElementById('iso-canvas');
                const pixelView = new obelisk.PixelView(canvas, new obelisk.Point(180, 100));
                const SIZE = 16;
                let maxCount = Math.max(...days.map(d => d.count));

                for (let w = 0; w < weeks; w++) {
                    for (let d = 0; d < 7; d++) {
                        const day = padded[w * 7 + d];
                        if (!day || day.pad) continue;
                        let h = 3 + (maxCount > 0 ? (day.count / maxCount) * 80 : 0);
                        const color = new obelisk.CubeColor().getByHorizontalColor(parseInt(colorForCount(day.count).replace('#', ''), 16));
                        pixelView.renderObject(new obelisk.Cube(new obelisk.CubeDimension(SIZE, SIZE, h), color, false), new obelisk.Point3D(w * SIZE, d * SIZE, 0));
                    }
                }
            }
        }

        window.onload = () => {
            render(REAL_DATA);
            document.getElementById('btn-3d').onclick = () => { document.getElementById('iso-shell').style.display = ''; };
            document.getElementById('btn-2d').onclick = () => { document.getElementById('iso-shell').style.display = 'none'; };
            document.getElementById('hide-normal').onchange = (e) => { document.getElementById('heatmap-wrap').style.display = e.target.checked ? 'none' : ''; };
        };
    </script>
</body>

</html>